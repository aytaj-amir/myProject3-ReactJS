{"ast":null,"code":"import _regeneratorRuntime from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from\"react\";import axios from'axios';import FormData from'form-data';import Config from'../Config/Config';import Common from\"../General/Common\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Product=/*#__PURE__*/function(_Component){_inherits(Product,_Component);var _super=_createSuper(Product);function Product(props){var _this;_classCallCheck(this,Product);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data,config,infos,makePrdct,key,row,discount,price,discount_start_date,discount_end_date,now_date,calc_discount,has_discount,new_price,data1,config1,prdct_data,prdctBox;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:data=new FormData();data.append('get_posts',true);data.append('post_type',10);config={method:'post',url:Config().ApiUrl,headers:{},data:data};_context.next=6;return axios(config);case 6:infos=_context.sent;makePrdct=[];_context.t0=_regeneratorRuntime.keys(infos.data.data);case 9:if((_context.t1=_context.t0()).done){_context.next=28;break;}key=_context.t1.value;row=infos.data.data[key];discount=row.metas.discount,price=row.metas.price,discount_start_date=new Date(row.metas.discount_start_date),discount_end_date=new Date(row.metas.discount_end_date),now_date=new Date(),calc_discount=price*(100-discount)/100;has_discount=discount_start_date<=now_date&&discount_end_date>=now_date?true:false;new_price=has_discount?calc_discount:null;makePrdct.push({id:row.id,title:row.title,featured:row.featured,link:'/products/'+row.slug,content:row.content,excerpt:row.excerpt,price:price,new_price:new_price,discount:discount,has_discount:has_discount});_this.setState({product_data:makePrdct});/** */data1=new FormData();data1.append('get_post','true');data1.append('post_id','7');config1={method:'post',url:Config().ApiUrl,headers:{},data:data1};_context.next=23;return axios(config1);case 23:prdct_data=_context.sent;prdctBox=prdct_data.data;_this.setState({prdct_data:prdctBox});_context.next=9;break;case 28:case\"end\":return _context.stop();}}},_callee);}));_this.state={product_data:[],prdct_data:[]};return _this;}_createClass(Product,[{key:\"render\",value:function render(){var _this$state=this.state,product_data=_this$state.product_data,prdct_data=_this$state.prdct_data;return/*#__PURE__*/_jsx(\"section\",{className:\"full_w sct_p\",children:/*#__PURE__*/_jsx(\"div\",{className:\" full_w product_area\",children:/*#__PURE__*/_jsx(\"div\",{className:\"center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"blog_main full_w\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"read_our_blog2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"texts\",children:[/*#__PURE__*/_jsx(\"h1\",{children:prdct_data.title}),/*#__PURE__*/_jsx(\"p\",{children:prdct_data.excerpt})]}),/*#__PURE__*/_jsx(\"div\",{className:\"menu_row\",children:product_data.map(function(product){return/*#__PURE__*/_jsx(Common,{product:product});})})]})})})})});}}]);return Product;}(Component);export{Product as default};","map":{"version":3,"sources":["E:/xampp/htdocs/docs/my-app/src/components/Pages/Product.js"],"names":["React","Component","axios","FormData","Config","Common","Product","props","componentDidMount","data","append","config","method","url","ApiUrl","headers","infos","makePrdct","key","row","discount","metas","price","discount_start_date","Date","discount_end_date","now_date","calc_discount","has_discount","new_price","push","id","title","featured","link","slug","content","excerpt","setState","product_data","data1","config1","prdct_data","prdctBox","state","map","product"],"mappings":"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","sourcesContent":["import React,{ Component } from \"react\";\r\nimport axios from 'axios';\r\nimport FormData from 'form-data';\r\nimport Config from '../Config/Config';\r\nimport Common from \"../General/Common\";\r\n\r\n\r\nexport default class Product extends Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n\r\n    this.state = {\r\n      product_data : [],\r\n      prdct_data : [],\r\n  \r\n    }\r\n  }\r\n\r\n\r\n\r\n\r\n  componentDidMount = async () =>{\r\n    const data = new FormData();\r\n    data.append('get_posts', true);\r\n    data.append('post_type', 10);\r\n\r\n    const config = {\r\n      method: 'post',\r\n      url: Config().ApiUrl,\r\n      headers: {},\r\n      data : data\r\n    };\r\n\r\n    const infos = await axios(config);\r\n    const makePrdct = [];\r\n\r\n\r\n \r\n\r\n    for(let key in infos.data.data){\r\n      let row = infos.data.data[key];\r\n      \r\n\r\n      let discount = row.metas.discount,\r\n         price = row.metas.price,\r\n         discount_start_date = new Date(row.metas.discount_start_date),\r\n         discount_end_date = new Date(row.metas.discount_end_date),\r\n         now_date = new Date(),\r\n         calc_discount = (price * (100 - discount)) / 100;\r\n\r\n         let has_discount = (discount_start_date <= now_date && discount_end_date >= now_date) ? true : false;\r\n         let new_price = (has_discount) ? calc_discount : null\r\n\r\n\r\n\r\n      makePrdct.push({\r\n        id : row.id,\r\n        title : row.title,\r\n        featured : row.featured,\r\n        link : '/products/'+row.slug,\r\n        content : row.content,\r\n        excerpt : row.excerpt,\r\n        price : price,\r\n        new_price :new_price,\r\n        discount : discount,\r\n        has_discount : has_discount\r\n\r\n      });\r\n\r\n     \r\n\r\n      this.setState({\r\n        product_data : makePrdct\r\n      });\r\n\r\n        /** */\r\n\r\n\r\n        const data1 = new FormData();\r\n        data1.append('get_post', 'true');\r\n        data1.append('post_id', '7');\r\n\r\n        const config1 = {\r\n          method: 'post',\r\n          url: Config().ApiUrl,\r\n          headers:{},\r\n          data : data1\r\n        };\r\n\r\n        const prdct_data = await axios(config1)\r\n        const prdctBox = prdct_data.data;\r\n\r\n\r\n        this.setState({\r\n          prdct_data : prdctBox\r\n        })\r\n\r\n    }\r\n  }\r\n\r\n    render(){\r\n      const {product_data,prdct_data}=this.state;\r\n\r\n\r\n\r\n        return(\r\n            <section className=\"full_w sct_p\">\r\n            <div className=\" full_w product_area\">\r\n        <div className=\"center\">\r\n                    <div className=\"blog_main full_w\">\r\n                  <div className=\"read_our_blog2\">\r\n          <div className=\"texts\">\r\n            <h1>{prdct_data.title}</h1>\r\n            <p>{prdct_data.excerpt}</p>\r\n          </div>\r\n        <div className=\"menu_row\">\r\n         {\r\n           product_data.map(product =>{\r\n             return(\r\n              <Common product={product}/>\r\n         \r\n             );\r\n\r\n           })\r\n\r\n           }\r\n          \r\n            \r\n           \r\n\r\n          \r\n            </div>\r\n    \r\n            </div>\r\n            </div>\r\n    \r\n               \r\n                </div>\r\n                \r\n            </div>\r\n    \r\n            \r\n        </section>\r\n    \r\n    \r\n    \r\n    \r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}