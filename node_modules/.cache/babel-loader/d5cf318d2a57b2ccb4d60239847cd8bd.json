{"ast":null,"code":"import _regeneratorRuntime from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"E:/xampp/htdocs/docs/my-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';import FormData from'form-data';import Config from\"../Config/Config\";import Common from\"../General/Common\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Favorites=/*#__PURE__*/function(_Component){_inherits(Favorites,_Component);var _super=_createSuper(Favorites);function Favorites(props){var _this;_classCallCheck(this,Favorites);_this=_super.call(this,props);_this.componentDidMount=/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var s_storage,array_name,product_ids,data,config2,product_list,products,key,row,discount,price,discount_start_date,discount_end_date,now_date,calc_discount,has_discount,new_price;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:s_storage=window.localStorage,array_name=s_storage.getItem('compare_ids');if(!array_name){_context.next=13;break;}product_ids=JSON.parse(array_name).join(',');data=new FormData();data.append('get_basket','true');data.append('ids',product_ids);config2={method:'post',url:Config().ApiUrl,headers:{},data:data};_context.next=9;return axios(config2);case 9:product_list=_context.sent;products=[];for(key in product_list.data.data){row=product_list.data.data[key];discount=row.metas.discount,price=row.metas.price,discount_start_date=new Date(row.metas.discount_start_date),discount_end_date=new Date(row.metas.discount_end_date),now_date=new Date(),calc_discount=price*(100-discount)/100;has_discount=discount_start_date<=now_date&&discount_end_date>=now_date?true:false;new_price=has_discount?calc_discount:null;products.push({id:row.id,title:row.title,featured:row.featured,link:\"/products/\"+row.slug,has_discount:has_discount,discount:discount,price:price,new_price:new_price,compare_page:true});}_this.setState({product_list:products});case 13:case\"end\":return _context.stop();}}},_callee);}));_this.state={product_list:[]};return _this;}_createClass(Favorites,[{key:\"render\",value:function render(){var product_list=this.state.product_list;return/*#__PURE__*/_jsx(\"section\",{class:\"full_w sct_p\",children:/*#__PURE__*/_jsx(\"div\",{class:\" full_w product_area\",children:/*#__PURE__*/_jsx(\"div\",{class:\"center\",children:/*#__PURE__*/_jsx(\"div\",{class:\"blog_main full_w\",style:{minHeight:\"400px\"},children:/*#__PURE__*/_jsxs(\"div\",{class:\"menu_row\",children:[product_list.length==0?/*#__PURE__*/_jsx(\"span\",{children:\"Sizin m\\xFCqayis\\u0259 \\xFC\\xE7\\xFCn se\\xE7ilmi\\u015F m\\u0259hsulunuz yoxdu!\"}):null,product_list.map(function(product){return/*#__PURE__*/_jsx(Common,{product:product});})]})})})})});}}]);return Favorites;}(Component);export{Favorites as default};","map":{"version":3,"sources":["E:/xampp/htdocs/docs/my-app/src/components/Pages/Compare.js"],"names":["React","Component","axios","FormData","Config","Common","Favorites","props","componentDidMount","s_storage","window","localStorage","array_name","getItem","product_ids","JSON","parse","join","data","append","config2","method","url","ApiUrl","headers","product_list","products","key","row","discount","metas","price","discount_start_date","Date","discount_end_date","now_date","calc_discount","has_discount","new_price","push","id","title","featured","link","slug","compare_page","setState","state","minHeight","length","map","product"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport axios from 'axios';\r\nimport FormData from 'form-data';\r\nimport Config from \"../Config/Config\";\r\nimport Common from \"../General/Common\";\r\n\r\n\r\nexport default class Favorites extends Component{\r\n\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            product_list: []\r\n        };\r\n    }\r\n\r\n    \r\n    componentDidMount = async () => {\r\n        const s_storage=window.localStorage,\r\n        array_name=s_storage.getItem('compare_ids');\r\n\r\n\r\n    if(array_name){\r\n        const product_ids=JSON.parse(array_name).join(',');\r\n\r\n\r\n            const data = new FormData();\r\n            data.append('get_basket', 'true');\r\n            data.append('ids', product_ids);\r\n\r\n            const config2 = {\r\n                method: 'post',\r\n                url: Config().ApiUrl,\r\n                headers: {},\r\n                data : data\r\n            };\r\n\r\n            const product_list = await axios(config2);\r\n\r\n            const products = [];\r\n\r\n            for (let key in product_list.data.data){\r\n                let row=product_list.data.data[key];\r\n\r\n                let discount=row.metas.discount,\r\n                    price=row.metas.price,\r\n                    discount_start_date=new Date(row.metas.discount_start_date),\r\n                    discount_end_date=new Date(row.metas.discount_end_date),\r\n                    now_date=new Date(),\r\n                    calc_discount=(price * (100 - discount)) / 100;\r\n\r\n                let has_discount=(discount_start_date <= now_date && discount_end_date >= now_date) ? true : false;\r\n                let new_price=(has_discount) ? calc_discount : null;\r\n\r\n                products.push({\r\n                    id : row.id,\r\n                    title : row.title,\r\n                    featured : row.featured,\r\n                    link : \"/products/\"+row.slug,\r\n                    has_discount : has_discount,\r\n                    discount : discount,\r\n                    price : price,\r\n                    new_price : new_price,\r\n                    compare_page : true\r\n                });\r\n            }\r\n\r\n            this.setState({\r\n                product_list : products\r\n            });\r\n\r\n\r\n        }\r\n\r\n\r\n\r\n    };\r\n\r\n\r\n    render(){\r\n        const {product_list} = this.state;\r\n        return(\r\n            <section class=\"full_w sct_p\">\r\n\t\t<div class=\" full_w product_area\">\r\n\t<div class=\"center\">\r\n<div class=\"blog_main full_w\" style={{minHeight:\"400px\"}}>\r\n            \r\n    <div class=\"menu_row\"> \r\n            {\r\n                (product_list.length ==0) ? <span>Sizin müqayisə üçün seçilmiş məhsulunuz yoxdu!</span> : null\r\n            }\r\n\r\n            \r\n     {\r\n         product_list.map(product =>{\r\n             return(\r\n\r\n                <Common product={product} />\r\n        \r\n             );\r\n         })\r\n     }\r\n     \r\n        </div>\r\n        </div>\r\n        </div>  \r\n\t\t\t</div>\r\n\t</section>\r\n\r\n\r\n        )\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n"]},"metadata":{},"sourceType":"module"}