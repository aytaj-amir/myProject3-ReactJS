{"ast":null,"code":"var _jsxFileName = \"E:\\\\xampp\\\\htdocs\\\\my-app\\\\src\\\\components\\\\Pages\\\\Product.js\";\nimport React, { Component } from \"react\";\nimport axios from 'axios';\nimport FormData from 'form-data'; // import ProductLi from \"../General/ProductLi\";\n\nimport Config from '../Config/Config';\nimport getTotal from \"../General/getTotal\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class Product extends Component {\n  constructor(props) {\n    super(props);\n\n    this.addFavorite = (product_id, e) => {\n      e.preventDefault();\n      const s_storage = window.localStorage,\n            array_name = s_storage.getItem('favorite_ids');\n      let fav_status = true;\n\n      if (array_name) {\n        const old_data = JSON.parse(array_name);\n        const check_index = old_data.indexOf(product_id);\n\n        if (check_index != -1) {\n          old_data.splice(check_index, 1);\n          s_storage.setItem('favorite_ids', JSON.stringify(old_data));\n          fav_status = false;\n        } else {\n          old_data.push(product_id);\n          s_storage.setItem('favorite_ids', JSON.stringify(old_data));\n        }\n\n        if (old_data.length == 0) {\n          window.location.href = '/favorites';\n        }\n      } else {\n        const new_data = [product_id];\n        s_storage.setItem('favorite_ids', JSON.stringify(new_data));\n      }\n\n      this.setState({\n        product_favorite_status: fav_status\n      });\n    };\n\n    this.addCart = (product_id, e) => {\n      e.preventDefault();\n      const s_storage = window.localStorage,\n            array_name = s_storage.getItem('user_cart'),\n            old_data = JSON.parse(array_name);\n      let product_cart_status = true;\n\n      if (old_data) {\n        if (old_data[product_id]) {\n          product_cart_status = false;\n          delete old_data[product_id];\n          /*old_data[product_id] = old_data[product_id] + 1;\r\n            */\n\n          const new_data = old_data;\n          s_storage.setItem('user_cart', JSON.stringify(new_data));\n        } else {\n          old_data[product_id] = 1;\n          const new_data = old_data;\n          s_storage.setItem('user_cart', JSON.stringify(new_data));\n        }\n      } else {\n        const new_data = {\n          [product_id]: 1\n        };\n        s_storage.setItem('user_cart', JSON.stringify(new_data));\n      }\n\n      this.setState({\n        product_cart_status: product_cart_status\n      });\n    };\n\n    this.addCompare = (product_id, e) => {\n      e.preventDefault();\n      const s_storage = window.localStorage,\n            array_name = s_storage.getItem('compare_ids');\n      let compare_status = true;\n\n      if (array_name) {\n        const old_data = JSON.parse(array_name);\n        const check_index = old_data.indexOf(product_id);\n\n        if (check_index != -1) {\n          old_data.splice(check_index, 1);\n          s_storage.setItem('compare_ids', JSON.stringify(old_data));\n          compare_status = false;\n        } else {\n          old_data.push(product_id);\n          s_storage.setItem('compare_ids', JSON.stringify(old_data));\n        }\n\n        if (old_data.length == 0) {\n          window.location.href = '/comparies';\n        }\n      } else {\n        const new_data = [product_id];\n        s_storage.setItem('compare_ids', JSON.stringify(new_data));\n      }\n\n      this.setState({\n        product_compare_status: compare_status\n      });\n      const all_total = getTotal();\n      console.log(all_total);\n    };\n\n    this.componentDidMount = async () => {\n      const data = new FormData();\n      data.append('get_posts', true);\n      data.append('post_type', 10);\n      const config = {\n        method: 'post',\n        url: Config().ApiUrl,\n        headers: {},\n        data: data\n      };\n      const infos = await axios(config);\n      const makePrdct = [];\n\n      for (let key in infos.data.data) {\n        let row = infos.data.data[key];\n        let discount = row.metas.discount,\n            price = row.metas.price,\n            discount_start_date = new Date(row.metas.discount_start_date),\n            discount_end_date = new Date(row.metas.discount_end_date),\n            now_date = new Date(),\n            calc_discount = price * (100 - discount) / 100;\n        let has_discount = discount_start_date <= now_date && discount_end_date >= now_date ? true : false;\n        let new_price = has_discount ? calc_discount : null;\n        makePrdct.push({\n          id: row.id,\n          title: row.title,\n          featured: row.featured,\n          link: '/products/' + row.slug,\n          content: row.content,\n          excerpt: row.excerpt,\n          price: price,\n          new_price: new_price,\n          discount: discount,\n          has_discount: has_discount\n        });\n        this.setState({\n          product_data: makePrdct\n        });\n        /** */\n\n        const data1 = new FormData();\n        data1.append('get_post', 'true');\n        data1.append('post_id', '7');\n        const config1 = {\n          method: 'post',\n          url: Config().ApiUrl,\n          headers: {},\n          data: data1\n        };\n        const prdct_data = await axios(config1);\n        const prdctBox = prdct_data.data;\n        this.setState({\n          prdct_data: prdctBox\n        });\n      }\n    };\n\n    this.state = {\n      product_data: [],\n      prdct_data: [],\n      product_favorite_status: false,\n      product_cart_status: false,\n      product_compare_status: false\n    };\n  }\n\n  render() {\n    const {\n      product_data,\n      prdct_data,\n      product_favorite_status,\n      product_cart_status,\n      product_compare_status\n    } = this.state;\n    return /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"full_w sct_p\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \" full_w product_area\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"blog_main full_w\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"read_our_blog2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"texts\",\n                children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n                  children: prdct_data.title\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 278,\n                  columnNumber: 13\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: prdct_data.excerpt\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 279,\n                  columnNumber: 13\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 11\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"menu_row\",\n                children: product_data.map(product => {\n                  return /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"blog_box prdct\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"product_action\",\n                      children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"#\",\n                        onClick: this.addFavorite.bind(this, product.id),\n                        className: fav_ids && fav_ids.indexOf(product.id) != -1 || product_favorite_status ? 'add_wish_list active' : ' add_wish_list ',\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-heart\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 288,\n                          columnNumber: 215\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 288,\n                        columnNumber: 17\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: product.link,\n                        target: \"_blank\",\n                        className: cart_ids && cart_ids[product.id] || product_cart_status ? 'add_cart active' : ' add_cart ',\n                        onClick: this.addCart.bind(this, product.id),\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fas fa-shopping-bag\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 290,\n                          columnNumber: 217\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 290,\n                        columnNumber: 17\n                      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                        href: \"#\",\n                        onClick: this.addCompare.bind(this, product.id),\n                        className: compare_ids && compare_ids.indexOf(product.id) != -1 || product_compare_status ? 'add_compare active' : ' add_compare ',\n                        children: /*#__PURE__*/_jsxDEV(\"i\", {\n                          className: \"fa fa-exchange\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 292,\n                          columnNumber: 217\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 292,\n                        columnNumber: 17\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 15\n                    }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                      href: product.link,\n                      target: \"_blank\",\n                      children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                        src: product.featured,\n                        alt: product.title,\n                        title: product.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 52\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 295,\n                      columnNumber: 12\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"label_product\",\n                      children: product.has_discount ? /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"label_sale\",\n                        children: [\"\\u2010\", product.discount, \" %\"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 299,\n                        columnNumber: 42\n                      }, this) : null\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 297,\n                      columnNumber: 13\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"blog_text\",\n                      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                        children: product.title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 303,\n                        columnNumber: 14\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"price_list\",\n                        children: product.has_discount ? /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"price\",\n                          children: [\"$\", product.new_price, \" \", /*#__PURE__*/_jsxDEV(\"del\", {\n                            children: [\"$\", product.price]\n                          }, void 0, true, {\n                            fileName: _jsxFileName,\n                            lineNumber: 307,\n                            columnNumber: 88\n                          }, this)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 307,\n                          columnNumber: 42\n                        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                          className: \"price\",\n                          children: [\"$\", product.price, \" \"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 307,\n                          columnNumber: 126\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 304,\n                        columnNumber: 14\n                      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"prdct_text\",\n                        children: product.excerpt\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 311,\n                        columnNumber: 13\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 302,\n                      columnNumber: 13\n                    }, this)]\n                  }, product.id, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 285,\n                    columnNumber: 15\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 9\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 276,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 275,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 274,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 13\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["E:/xampp/htdocs/my-app/src/components/Pages/Product.js"],"names":["React","Component","axios","FormData","Config","getTotal","Product","constructor","props","addFavorite","product_id","e","preventDefault","s_storage","window","localStorage","array_name","getItem","fav_status","old_data","JSON","parse","check_index","indexOf","splice","setItem","stringify","push","length","location","href","new_data","setState","product_favorite_status","addCart","product_cart_status","addCompare","compare_status","product_compare_status","all_total","console","log","componentDidMount","data","append","config","method","url","ApiUrl","headers","infos","makePrdct","key","row","discount","metas","price","discount_start_date","Date","discount_end_date","now_date","calc_discount","has_discount","new_price","id","title","featured","link","slug","content","excerpt","product_data","data1","config1","prdct_data","prdctBox","state","render","map","product","bind","fav_ids","cart_ids","compare_ids"],"mappings":"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","sourcesContent":["import React,{ Component } from \"react\";\r\nimport axios from 'axios';\r\nimport FormData from 'form-data';\r\n// import ProductLi from \"../General/ProductLi\";\r\nimport Config from '../Config/Config';\r\nimport getTotal from \"../General/getTotal\";\r\n\r\n\r\nexport default class Product extends Component{\r\n  constructor(props){\r\n    super(props);\r\n\r\n\r\n    this.state = {\r\n      product_data : [],\r\n      prdct_data : [],\r\n      product_favorite_status : false,\r\n      product_cart_status : false,\r\n      product_compare_status : false\r\n  \r\n    }\r\n  }\r\n\r\n\r\n  addFavorite = (product_id, e) => {\r\n    e.preventDefault();\r\n\r\n    const s_storage=window.localStorage,\r\n        array_name=s_storage.getItem('favorite_ids');\r\n\r\n    let fav_status=true;\r\n\r\n    if(array_name){\r\n        const old_data=JSON.parse(array_name);\r\n        const check_index=old_data.indexOf(product_id);\r\n\r\n        if(check_index != -1){\r\n\r\n            old_data.splice(check_index, 1);\r\n\r\n            s_storage.setItem('favorite_ids', JSON.stringify(old_data));\r\n\r\n            fav_status=false;\r\n\r\n        }else{\r\n\r\n            old_data.push(product_id);\r\n\r\n            s_storage.setItem('favorite_ids', JSON.stringify(old_data));\r\n\r\n\r\n        }\r\n\r\n        if(old_data.length==0){\r\n            window.location.href='/favorites';\r\n        }\r\n\r\n    }else {\r\n\r\n        const new_data=[product_id];\r\n\r\n        s_storage.setItem('favorite_ids', JSON.stringify(new_data));\r\n\r\n\r\n\r\n    }\r\n\r\n    this.setState({\r\n        product_favorite_status : fav_status\r\n    });\r\n\r\n\r\n};\r\n\r\n\r\naddCart = (product_id, e) => {\r\n  e.preventDefault();\r\n\r\n  const s_storage=window.localStorage,\r\n        array_name=s_storage.getItem('user_cart'),\r\n        old_data=JSON.parse(array_name);\r\n\r\n  let product_cart_status=true;\r\n\r\n  if(old_data){\r\n\r\n      if (old_data[product_id]){\r\n\r\n          product_cart_status=false;\r\n\r\n          delete  old_data[product_id];\r\n\r\n          /*old_data[product_id] = old_data[product_id] + 1;\r\n            */\r\n\r\n          const new_data=old_data;\r\n\r\n\r\n          s_storage.setItem('user_cart', JSON.stringify(new_data));\r\n\r\n\r\n\r\n      }else{\r\n          old_data[product_id] = 1;\r\n\r\n          const new_data=old_data;\r\n\r\n\r\n          s_storage.setItem('user_cart', JSON.stringify(new_data));\r\n      }\r\n\r\n\r\n\r\n  }else{\r\n\r\n      const new_data={\r\n          [product_id] : 1\r\n      };\r\n\r\n      s_storage.setItem('user_cart', JSON.stringify(new_data));\r\n\r\n\r\n  }\r\n\r\n    this.setState({\r\n        product_cart_status : product_cart_status\r\n    });\r\n\r\n};\r\n\r\n\r\naddCompare = (product_id, e) => {\r\n  e.preventDefault();\r\n\r\n  const s_storage=window.localStorage,\r\n      array_name=s_storage.getItem('compare_ids');\r\n\r\n  let compare_status=true;\r\n\r\n  if(array_name){\r\n      const old_data=JSON.parse(array_name);\r\n      const check_index=old_data.indexOf(product_id);\r\n\r\n      if(check_index != -1){\r\n\r\n          old_data.splice(check_index, 1);\r\n\r\n          s_storage.setItem('compare_ids', JSON.stringify(old_data));\r\n\r\n          compare_status=false;\r\n\r\n      }else{\r\n\r\n          old_data.push(product_id);\r\n\r\n          s_storage.setItem('compare_ids', JSON.stringify(old_data));\r\n\r\n\r\n      }\r\n\r\n      if(old_data.length==0){\r\n          window.location.href='/comparies';\r\n      }\r\n\r\n  }else {\r\n\r\n      const new_data=[product_id];\r\n\r\n      s_storage.setItem('compare_ids', JSON.stringify(new_data));\r\n\r\n\r\n\r\n  }\r\n\r\n  this.setState({\r\n      product_compare_status : compare_status\r\n  });\r\n\r\n  const all_total=getTotal();\r\n\r\n  console.log( all_total );\r\n\r\n};\r\n\r\n\r\n\r\n\r\n\r\n  componentDidMount = async () =>{\r\n    const data = new FormData();\r\n    data.append('get_posts', true);\r\n    data.append('post_type', 10);\r\n\r\n    const config = {\r\n      method: 'post',\r\n      url: Config().ApiUrl,\r\n      headers: {},\r\n      data : data\r\n    };\r\n\r\n    const infos = await axios(config);\r\n    const makePrdct = [];\r\n\r\n\r\n \r\n\r\n    for(let key in infos.data.data){\r\n      let row = infos.data.data[key];\r\n      \r\n\r\n      let discount = row.metas.discount,\r\n         price = row.metas.price,\r\n         discount_start_date = new Date(row.metas.discount_start_date),\r\n         discount_end_date = new Date(row.metas.discount_end_date),\r\n         now_date = new Date(),\r\n         calc_discount = (price * (100 - discount)) / 100;\r\n\r\n         let has_discount = (discount_start_date <= now_date && discount_end_date >= now_date) ? true : false;\r\n         let new_price = (has_discount) ? calc_discount : null\r\n\r\n\r\n\r\n      makePrdct.push({\r\n        id : row.id,\r\n        title : row.title,\r\n        featured : row.featured,\r\n        link : '/products/'+row.slug,\r\n        content : row.content,\r\n        excerpt : row.excerpt,\r\n        price : price,\r\n        new_price :new_price,\r\n        discount : discount,\r\n        has_discount : has_discount\r\n\r\n      });\r\n\r\n     \r\n\r\n      this.setState({\r\n        product_data : makePrdct\r\n      });\r\n\r\n        /** */\r\n\r\n\r\n        const data1 = new FormData();\r\n        data1.append('get_post', 'true');\r\n        data1.append('post_id', '7');\r\n\r\n        const config1 = {\r\n          method: 'post',\r\n          url: Config().ApiUrl,\r\n          headers:{},\r\n          data : data1\r\n        };\r\n\r\n        const prdct_data = await axios(config1)\r\n        const prdctBox = prdct_data.data;\r\n\r\n\r\n        this.setState({\r\n          prdct_data : prdctBox\r\n        })\r\n\r\n    }\r\n  }\r\n\r\n    render(){\r\n\r\nconst {product_data,prdct_data,product_favorite_status, product_cart_status, product_compare_status}=this.state;\r\n        return(\r\n            <section className=\"full_w sct_p\">\r\n            <div className=\" full_w product_area\">\r\n        <div className=\"center\">\r\n                    <div className=\"blog_main full_w\">\r\n                  <div className=\"read_our_blog2\">\r\n          <div className=\"texts\">\r\n            <h1>{prdct_data.title}</h1>\r\n            <p>{prdct_data.excerpt}</p>\r\n          </div>\r\n        <div className=\"menu_row\">\r\n         {\r\n           product_data.map(product =>{\r\n             return(\r\n              <div className=\"blog_box prdct\" key={product.id}>\r\n              <div className=\"product_action\">\r\n  \r\n                <a href='#' onClick={this.addFavorite.bind(this, product.id)} className={ ( (fav_ids && fav_ids.indexOf( product.id) !=-1) || product_favorite_status) ? 'add_wish_list active' : ' add_wish_list ' }><i className=\"fas fa-heart\"></i></a>\r\n  \r\n                <a href={product.link} target=\"_blank\" className={ ( (cart_ids &&  cart_ids[product.id]) || product_cart_status  ) ? 'add_cart active' : ' add_cart ' }  onClick={this.addCart.bind(this, product.id)} ><i className=\"fas fa-shopping-bag\"></i></a>\r\n  \r\n                <a href=\"#\" onClick={this.addCompare.bind(this, product.id)} className={ ( (compare_ids && compare_ids.indexOf( product.id) !=-1) || product_compare_status) ? 'add_compare active' : ' add_compare ' }><i className=\"fa fa-exchange\"></i></a>\r\n  \r\n              </div>\r\n           <a href={product.link} target=\"_blank\"> <img src={product.featured} alt={product.title} title={product.title}/></a>\r\n  \r\n            <div className=\"label_product\">\r\n             {\r\n               (product.has_discount) ?  <span className=\"label_sale\">&#x2010;{product.discount} &#x25;</span> : null \r\n             }\r\n            </div>\r\n            <div className=\"blog_text\">\r\n             <h2>{product.title}</h2>\r\n             <div className=\"price_list\">\r\n\r\n              {\r\n                (product.has_discount) ? <p className=\"price\">&#36;{product.new_price} <del>&#36;{product.price}</del></p> : <p className=\"price\">&#36;{product.price} </p>\r\n              }\r\n\r\n             </div>\r\n            <p className=\"prdct_text\">\r\n             {product.excerpt}\r\n            </p>\r\n            </div>\r\n            \r\n            </div>\r\n             );\r\n\r\n           })\r\n\r\n           }\r\n          \r\n            \r\n           \r\n\r\n          \r\n            </div>\r\n    \r\n            </div>\r\n            </div>\r\n    \r\n               \r\n                </div>\r\n                \r\n            </div>\r\n    \r\n            \r\n        </section>\r\n    \r\n    \r\n    \r\n    \r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}